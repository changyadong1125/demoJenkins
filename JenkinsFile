pipeline {
    agent any

    stages { //所有阶段
        stage('构建') { //stage定义一个阶段
                    steps {
                        //  可以先使用命令下载环境 docker pull maven:3.9.0-amazoncorretto-8
                        withDockerContainer('maven:3.9.0-amazoncorretto-8') {
                            // some block
                            sh 'mvn clean package'
                        }
                    }
                }
        stage('质量分析') {
            steps {
                echo '打包  ok...'
            }
        }
        stage('单元测试') {
            steps {
                echo 'deploy ok...'
            }
        }
        stage('打包制品') {
            steps {
                echo 'deploy ok...'
            }
        }
        stage('制作镜像') {
            steps {
                echo 'deploy ok...'
            }
        }
        stage('部署') {
            steps {
                echo 'deploy ok...'
            }
        }
    }
}